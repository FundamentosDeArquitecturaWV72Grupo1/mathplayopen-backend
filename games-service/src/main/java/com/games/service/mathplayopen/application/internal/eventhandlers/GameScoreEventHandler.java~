package com.games.service.mathplayopen.application.internal.eventhandlers;

import com.games.service.mathplayopen.domain.model.events.GamePlayedEvent;
import org.springframework.stereotype.Component;

@Component
public class GameScoreEventHandler {
    private final GameScoreService gameScoreService;

    public GameScoreEventHandler(GameScoreService gameScoreService) {
        this.gameScoreService = gameScoreService;
    }

    @EventListener
    public void handleGamePlayedEvent(GamePlayedEvent event) {
        gameScoreService.updateScore(event.gameId(), event.studentId(), event.playTimeInSeconds());
    }
}
